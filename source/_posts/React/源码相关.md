---
date: 2021-04-21

author: matthew

tags: react, 源码
---

## React16.8.0

### React

1. hooks

2. useReducer 懒初始化

### React DOM

1. 使用 Object.is 比较 useState 和 useReducer 的值

2. React.lazy() 支持异步

3. Effect 的清楚函数要么返回 undefined 要么返回 function, 否则是不允许的

#### React Test

1. 支持 hooks

2. 新增 ReactTestRenderer.act() 和 ReactTestUtils.act() 用于批量操作以贴近实际场景

#### ESLint

1. 支持 hooks

## React17.0.0

### React

1. 新增 react/jsx-runtime 和 react/jsx-dev-runtime 处理 JSX 转换

2. context 可以设置 displayName 以便调试

3. 停止使用 fb.me 进行重定向(@cylim refactor fb.me url to reactjs.org/link)

### React DOM

1. dom 绑定到 root 上而不是 document 上

2. 在运行下一个 effect 会把之前的所有 effect 清除

3. 异步运行 effect 清除函数

4. 合成事件系统完善，移除事件池等

5. Fix

## React15.0.0
